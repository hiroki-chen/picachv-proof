# Policy-Carrying Data

The layout of the project:

* `docs`: contains documentations of the implementation and design details of the policy-compliant data analysis framework as well as the policy-carrying data.
* `examples`: contains a bunch of examples.
* `policy_carrying_data`: contains the codebase of the data frame.
* `policy_execution`: contains the codebase of the physical executors that interact with the dataframe protected by the policy.
* `policy_core`: the core library that contains primarily the type definitions and some necessary enums.
* `policy_function`: defines some common functions the API set may use.
* `policy_generator`: a code generator that parses the human-readable policy language and generates the Cargo project from it. Users can then compile a stand-alone policy module.
* `policy_proc_macro`: the procedural macro that automatically expands the annotations generated by the generator.
* `policy_proof`: the formal proofs for the implementation.
* `policy_privacy`: implementations of several privacy schemes like dp, k-anonymity, etc.
* `policy_ffi`: the FFI module of policy-compliant executors for the time being.
* `policy_algebra`: the algebraic structures for encoding policies.

## Known Issues

* rustc will generate different `TypeId`s for generics when crates are not compiled in a bundle, even if the generics have the same type. Thus, `std::any::Any` cannot be downcast in safe Rust. The workaround is simple but a little bit of hacky: we bypass the security check and switch to nightly Rust to enable the feature `downcast_unchecked`.
* <s>`opendp` causes type mismatch.</s> No. This issue is caused by type confusion when building crates in a separate way, not its dependencies.
